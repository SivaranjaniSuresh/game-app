{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Map,Marker,Overlay}from'pigeon-maps';import axios from'axios';import'./App.css';// Import the CSS file\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[locations,setLocations]=useState({});const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[loggedIn,setLoggedIn]=useState(false);const[currentLocation,setCurrentLocation]=useState([0,0]);const[path,setPath]=useState([]);const[selectedLocation,setSelectedLocation]=useState(null);const[items,setItems]=useState([]);const[distances,setDistances]=useState({});const[collectedItemsCount,setCollectedItemsCount]=useState({});useEffect(()=>{const fetchLocations=async()=>{try{const response=await axios.get('http://localhost:5000/get_locations');setLocations(response.data);if(loggedIn){const userLocation=response.data[username];if(userLocation){setCurrentLocation(JSON.parse(userLocation));}}}catch(error){console.error(\"Error fetching locations\",error);}};if(loggedIn){fetchLocations();const interval=setInterval(fetchLocations,3000);return()=>clearInterval(interval);}},[loggedIn,username]);useEffect(()=>{const generateRandomItems=()=>{const randomItems=[];for(let i=0;i<5;i++){const lat=currentLocation[0]+Math.random()*0.05-0.025;// Random latitude within 0.025 degrees around current location\nconst lng=currentLocation[1]+Math.random()*0.05-0.025;// Random longitude within 0.025 degrees around current location\nrandomItems.push({id:i,location:[lat,lng]});}setItems(randomItems);};if(loggedIn){generateRandomItems();}},[loggedIn,currentLocation]);useEffect(()=>{const calculateDistances=()=>{const distancesMap={};Object.entries(locations).forEach(_ref=>{let[user1,loc1]=_ref;Object.entries(locations).forEach(_ref2=>{let[user2,loc2]=_ref2;if(user1!==user2){const[lat1,lng1]=JSON.parse(loc1);const[lat2,lng2]=JSON.parse(loc2);const distance=haversineDistance([lat1,lng1],[lat2,lng2]);distancesMap[\"\".concat(user1,\"-\").concat(user2)]=distance;}});});setDistances(distancesMap);};if(loggedIn){calculateDistances();}},[loggedIn,locations]);useEffect(()=>{const handleLoginSuccess=async position=>{try{const{latitude,longitude}=position.coords;const location=[latitude,longitude];await axios.post('http://localhost:5000/update_location',{username,location});setCurrentLocation(location);setPath(prevPath=>[...prevPath,location]);checkItemCollection(location);}catch(error){console.error(\"Error updating location\",error);}};if(loggedIn){const watchId=navigator.geolocation.watchPosition(handleLoginSuccess,error=>{console.error(\"Error getting current position\",error);});return()=>navigator.geolocation.clearWatch(watchId);}},[loggedIn,username]);const handleRegister=async()=>{try{await axios.post('http://localhost:5000/register',{username,password});alert('Registration successful!');}catch(error){console.error(\"Error during registration\",error);}};const handleLogin=async()=>{try{const response=await axios.post('http://localhost:5000/login',{username,password});if(response.data.status==='success'){setLoggedIn(true);}else{alert('Login failed!');}}catch(error){console.error(\"Error during login\",error);}};const checkItemCollection=currentLocation=>{const collectedItems=items.filter(item=>{const distance=haversineDistance(item.location,currentLocation);return distance<20;// 20 meters threshold for collecting items\n});if(collectedItems.length>0){alert(\"You collected \".concat(collectedItems.length,\" item(s)!\"));setItems(prevItems=>prevItems.filter(item=>!collectedItems.includes(item)));const newCount={...collectedItemsCount};newCount[username]=(newCount[username]||0)+collectedItems.length;setCollectedItemsCount(newCount);}};const haversineDistance=(_ref3,_ref4)=>{let[lat1,lon1]=_ref3;let[lat2,lon2]=_ref4;const toRad=x=>x*Math.PI/180;const R=6371;const dLat=toRad(lat2-lat1);const dLon=toRad(lon2-lon1);const a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c*1000;// Distance in meters\n};const Polyline=_ref5=>{let{positions}=_ref5;if(positions.length<2)return null;const lines=positions.slice(1).map((position,index)=>{const[lat1,lng1]=positions[index];const[lat2,lng2]=position;return/*#__PURE__*/_jsx(Overlay,{anchor:[lat1,lng1],offset:[0,0],children:/*#__PURE__*/_jsx(\"svg\",{width:500,height:500,viewBox:\"0 0 500 500\",style:{position:'absolute',top:0,left:0},children:/*#__PURE__*/_jsx(\"line\",{x1:\"50%\",y1:\"50%\",x2:\"\".concat(50+(lng2-lng1)*100,\"%\"),y2:\"\".concat(50+(lat2-lat1)*100,\"%\"),stroke:\"red\",strokeWidth:\"2\"})})},index);});return/*#__PURE__*/_jsx(_Fragment,{children:lines});};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:!loggedIn?/*#__PURE__*/_jsxs(\"div\",{className:\"login-register-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"game-app-heading\",children:\"Game-App\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRegister,children:\"Register\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Login\"})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Map\"}),/*#__PURE__*/_jsxs(Map,{height:600,defaultCenter:currentLocation,defaultZoom:11,children:[Object.entries(locations).map(_ref6=>{let[user,loc]=_ref6;try{const[lat,lng]=JSON.parse(loc);return/*#__PURE__*/_jsx(Marker,{width:50,anchor:[lat,lng],onClick:()=>setSelectedLocation({username:user,location:[lat,lng]})},user);}catch(e){console.error(\"Error parsing location for user \".concat(user,\":\"),loc,e);return null;}}),items.map(item=>/*#__PURE__*/_jsx(Marker,{width:50,anchor:item.location,color:\"blue\",onClick:()=>{alert(\"You found an item at \".concat(item.location[0].toFixed(4),\", \").concat(item.location[1].toFixed(4),\"!\"));setItems(prevItems=>prevItems.filter(i=>i.id!==item.id));const newCount={...collectedItemsCount};newCount[username]=(newCount[username]||0)+1;setCollectedItemsCount(newCount);}},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-section leaderboard-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Leaderboard - Items Collected\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[Object.entries(collectedItemsCount).sort((_ref7,_ref8)=>{let[,countA]=_ref7;let[,countB]=_ref8;return countB-countA;}).map(_ref9=>{let[user,count]=_ref9;return/*#__PURE__*/_jsxs(\"li\",{children:[user,\": \",count,\" item(s)\"]},user);}),/*#__PURE__*/_jsx(\"li\",{children:\"siva: 8 item(s)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"anish: 4 item(s)\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"popup-section distances-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Distances:\"}),/*#__PURE__*/_jsx(\"ul\",{children:Object.entries(distances).map(_ref10=>{let[key,distance]=_ref10;return/*#__PURE__*/_jsx(\"li\",{children:\"\".concat(key,\": \").concat(distance.toFixed(2),\" meters\")},key);})})]}),selectedLocation&&selectedLocation.location&&/*#__PURE__*/_jsx(Overlay,{anchor:selectedLocation.location,offset:[120,79],children:/*#__PURE__*/_jsxs(\"div\",{className:\"selected-location-overlay\",children:[/*#__PURE__*/_jsx(\"strong\",{children:selectedLocation.username}),/*#__PURE__*/_jsx(\"br\",{}),\"Lat: \",selectedLocation.location[0].toFixed(4),\", Lng: \",selectedLocation.location[1].toFixed(4)]})}),/*#__PURE__*/_jsx(Polyline,{positions:path})]})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","Map","Marker","Overlay","axios","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","locations","setLocations","username","setUsername","password","setPassword","loggedIn","setLoggedIn","currentLocation","setCurrentLocation","path","setPath","selectedLocation","setSelectedLocation","items","setItems","distances","setDistances","collectedItemsCount","setCollectedItemsCount","fetchLocations","response","get","data","userLocation","JSON","parse","error","console","interval","setInterval","clearInterval","generateRandomItems","randomItems","i","lat","Math","random","lng","push","id","location","calculateDistances","distancesMap","Object","entries","forEach","_ref","user1","loc1","_ref2","user2","loc2","lat1","lng1","lat2","lng2","distance","haversineDistance","concat","handleLoginSuccess","position","latitude","longitude","coords","post","prevPath","checkItemCollection","watchId","navigator","geolocation","watchPosition","clearWatch","handleRegister","alert","handleLogin","status","collectedItems","filter","item","length","prevItems","includes","newCount","_ref3","_ref4","lon1","lon2","toRad","x","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","Polyline","_ref5","positions","lines","slice","map","index","anchor","offset","children","width","height","viewBox","style","top","left","x1","y1","x2","y2","stroke","strokeWidth","className","type","placeholder","onChange","e","target","value","onClick","defaultCenter","defaultZoom","_ref6","user","loc","color","toFixed","sort","_ref7","_ref8","countA","countB","_ref9","count","_ref10","key"],"sources":["/Users/anishnavale/Desktop/game-app/my-map-app/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Map, Marker, Overlay } from 'pigeon-maps';\nimport axios from 'axios';\nimport './App.css'; // Import the CSS file\n\nconst App = () => {\n  const [locations, setLocations] = useState({});\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [currentLocation, setCurrentLocation] = useState([0, 0]);\n  const [path, setPath] = useState([]);\n  const [selectedLocation, setSelectedLocation] = useState(null);\n  const [items, setItems] = useState([]);\n  const [distances, setDistances] = useState({});\n  const [collectedItemsCount, setCollectedItemsCount] = useState({});\n\n  useEffect(() => {\n    const fetchLocations = async () => {\n      try {\n        const response = await axios.get('http://localhost:5000/get_locations');\n        setLocations(response.data);\n\n        if (loggedIn) {\n          const userLocation = response.data[username];\n          if (userLocation) {\n            setCurrentLocation(JSON.parse(userLocation));\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching locations\", error);\n      }\n    };\n\n    if (loggedIn) {\n      fetchLocations();\n      const interval = setInterval(fetchLocations, 3000);\n      return () => clearInterval(interval);\n    }\n  }, [loggedIn, username]);\n\n  useEffect(() => {\n    const generateRandomItems = () => {\n      const randomItems = [];\n      for (let i = 0; i < 5; i++) {\n        const lat = currentLocation[0] + Math.random() * 0.05 - 0.025; // Random latitude within 0.025 degrees around current location\n        const lng = currentLocation[1] + Math.random() * 0.05 - 0.025; // Random longitude within 0.025 degrees around current location\n        randomItems.push({ id: i, location: [lat, lng] });\n      }\n      setItems(randomItems);\n    };\n\n    if (loggedIn) {\n      generateRandomItems();\n    }\n  }, [loggedIn, currentLocation]);\n\n  useEffect(() => {\n    const calculateDistances = () => {\n      const distancesMap = {};\n\n      Object.entries(locations).forEach(([user1, loc1]) => {\n        Object.entries(locations).forEach(([user2, loc2]) => {\n          if (user1 !== user2) {\n            const [lat1, lng1] = JSON.parse(loc1);\n            const [lat2, lng2] = JSON.parse(loc2);\n            const distance = haversineDistance([lat1, lng1], [lat2, lng2]);\n            distancesMap[`${user1}-${user2}`] = distance;\n          }\n        });\n      });\n\n      setDistances(distancesMap);\n    };\n\n    if (loggedIn) {\n      calculateDistances();\n    }\n  }, [loggedIn, locations]);\n\n  useEffect(() => {\n    const handleLoginSuccess = async (position) => {\n      try {\n        const { latitude, longitude } = position.coords;\n        const location = [latitude, longitude];\n        await axios.post('http://localhost:5000/update_location', { username, location });\n        setCurrentLocation(location);\n        setPath(prevPath => [...prevPath, location]);\n        checkItemCollection(location);\n      } catch (error) {\n        console.error(\"Error updating location\", error);\n      }\n    };\n\n    if (loggedIn) {\n      const watchId = navigator.geolocation.watchPosition(\n        handleLoginSuccess,\n        (error) => {\n          console.error(\"Error getting current position\", error);\n        }\n      );\n\n      return () => navigator.geolocation.clearWatch(watchId);\n    }\n  }, [loggedIn, username]);\n\n  const handleRegister = async () => {\n    try {\n      await axios.post('http://localhost:5000/register', { username, password });\n      alert('Registration successful!');\n    } catch (error) {\n      console.error(\"Error during registration\", error);\n    }\n  };\n\n  const handleLogin = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/login', { username, password });\n      if (response.data.status === 'success') {\n        setLoggedIn(true);\n      } else {\n        alert('Login failed!');\n      }\n    } catch (error) {\n      console.error(\"Error during login\", error);\n    }\n  };\n\n  const checkItemCollection = (currentLocation) => {\n    const collectedItems = items.filter(item => {\n      const distance = haversineDistance(item.location, currentLocation);\n      return distance < 20; // 20 meters threshold for collecting items\n    });\n\n    if (collectedItems.length > 0) {\n      alert(`You collected ${collectedItems.length} item(s)!`);\n      setItems(prevItems => prevItems.filter(item => !collectedItems.includes(item)));\n\n      const newCount = { ...collectedItemsCount };\n      newCount[username] = (newCount[username] || 0) + collectedItems.length;\n      setCollectedItemsCount(newCount);\n    }\n  };\n\n  const haversineDistance = ([lat1, lon1], [lat2, lon2]) => {\n    const toRad = (x) => (x * Math.PI) / 180;\n    const R = 6371;\n\n    const dLat = toRad(lat2 - lat1);\n    const dLon = toRad(lon2 - lon1);\n\n    const a =\n      Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n      Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) *\n      Math.sin(dLon / 2) * Math.sin(dLon / 2);\n\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\n    return R * c * 1000; // Distance in meters\n  };\n\n  const Polyline = ({ positions }) => {\n    if (positions.length < 2) return null;\n\n    const lines = positions.slice(1).map((position, index) => {\n      const [lat1, lng1] = positions[index];\n      const [lat2, lng2] = position;\n\n      return (\n        <Overlay key={index} anchor={[lat1, lng1]} offset={[0, 0]}>\n          <svg width={500} height={500} viewBox=\"0 0 500 500\" style={{ position: 'absolute', top: 0, left: 0 }}>\n            <line\n              x1=\"50%\"\n              y1=\"50%\"\n              x2={`${50 + (lng2 - lng1) * 100}%`}\n              y2={`${50 + (lat2 - lat1) * 100}%`}\n              stroke=\"red\"\n              strokeWidth=\"2\"\n            />\n          </svg>\n        </Overlay>\n      );\n    });\n\n    return <>{lines}</>;\n  };\n\n  return (\n    <div className=\"App\">\n      {!loggedIn ? (\n        <div className=\"login-register-container\">\n          <h1 className=\"game-app-heading\">Game-App</h1>\n          <input type=\"text\" placeholder=\"Username\" onChange={(e) => setUsername(e.target.value)} />\n          <input type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\n          <button onClick={handleRegister}>Register</button>\n          <button onClick={handleLogin}>Login</button>\n        </div>\n      ) : (\n        <div>\n          <h2>Map</h2>\n          <Map height={600} defaultCenter={currentLocation} defaultZoom={11}>\n            {Object.entries(locations).map(([user, loc]) => {\n              try {\n                const [lat, lng] = JSON.parse(loc);\n                return (\n                  <Marker\n                    key={user}\n                    width={50}\n                    anchor={[lat, lng]}\n                    onClick={() => setSelectedLocation({ username: user, location: [lat, lng] })}\n                  />\n                );\n              } catch (e) {\n                console.error(`Error parsing location for user ${user}:`, loc, e);\n                return null;\n              }\n            })}\n\n            {items.map(item => (\n              <Marker\n                key={item.id}\n                width={50}\n                anchor={item.location}\n                color=\"blue\"\n                onClick={() => {\n                  alert(`You found an item at ${item.location[0].toFixed(4)}, ${item.location[1].toFixed(4)}!`);\n                  setItems(prevItems => prevItems.filter(i => i.id !== item.id));\n                  const newCount = { ...collectedItemsCount };\n                  newCount[username] = (newCount[username] || 0) + 1;\n                  setCollectedItemsCount(newCount);\n                }}\n              />\n            ))}\n\n            <div className=\"popup-section leaderboard-section\">\n              <h3>Leaderboard - Items Collected</h3>\n              <ul>\n                {Object.entries(collectedItemsCount)\n                  .sort(([, countA], [, countB]) => countB - countA)\n                  .map(([user, count]) => (\n                    <li key={user}>{user}: {count} item(s)</li>\n                  ))}\n                  <li>siva: 8 item(s)</li>\n                  <li>anish: 4 item(s)</li>\n                </ul>\n                </div>\n      \n                  <div className=\"popup-section distances-section\">\n                    <h3>Distances:</h3>\n                    <ul>\n                      {Object.entries(distances).map(([key, distance]) => (\n                        <li key={key}>{`${key}: ${distance.toFixed(2)} meters`}</li>\n                      ))}\n                    </ul>\n                  </div>\n      \n                  {selectedLocation && selectedLocation.location && (\n                    <Overlay anchor={selectedLocation.location} offset={[120, 79]}>\n                      <div className=\"selected-location-overlay\">\n                        <strong>{selectedLocation.username}</strong><br />\n                        Lat: {selectedLocation.location[0].toFixed(4)}, Lng: {selectedLocation.location[1].toFixed(4)}\n                      </div>\n                    </Overlay>\n                  )}\n      \n                  <Polyline positions={path} />\n                </Map>\n              </div>\n            )}\n          </div>\n        );\n      };\n      \n      export default App;\n      \n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}